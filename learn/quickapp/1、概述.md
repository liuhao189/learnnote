## 背景介绍

快应用使用前段技术栈开发，原生渲染，学习成本低。

18年3月，小米，OPPO，VIVO，华为等10家国内主流厂商成立了快应用联盟，从技术规范层面做了统一。快应用框架深度集成进各手机厂商的手机操作系统中。

## 入口场景

URL；场景入口：全局搜索，语音助手，应用商店，浏览器，系统桌面，安全中心，信息助手；广告：广告；PUSH：PUSH，其它。

## 注册流程

快应用官网注册，完善资料，绑定厂商开发者账号。

## 如何开发

采用前端技术栈，运行科开发效率高，学习成本低，代码可复用。使用MVVM的设计模式进行开发，开发者无需直接操作DOM节点的增删，利用数据驱动的方式完成节点更新。

# 安装环境

1、安装NodeJS，建议10.0+以上。

2、手机安装调试器，调试器时一个Android应用层序，提供扫码安装，本地安装，在线更新，开始调试等功能。

3、手机安装平台预览版，迭代速速快，可体验平台新功能；但是实现与真实的运行环境存在差异，对厂商服务和第三方服务的支持存在缺陷。

4、安装hap-toolkit为开发编译工具。npm i hap-toolkit -g

## 项目开发

### 编译项目

```bash
npm run build
```

编译打包成功后，项目根目录下回生成文件夹build，dist。

build，临时产出，包含编译后的页面JS，图片等。

dist，最终产出，包含rpk文件。其实是将build目录下的资源打包压缩为一个文件，后缀名为rpk，这个rpk文件就是项目编译后的最终产出。

## 项目结构讲解

sign为rpk包签名模块。只有debug签名，如果需要上线，请添加release文件夹，增加线上签名。

src/common公用的资源和组件文件

src/demo页面目录

app.ux，App文件，可引入公共脚本，暴露公共数据和方法。

manifest.json项目配置文件，配置应用图标，页面路由等。专属的名词，图标等，这些信息都需要在manifest.json文件中配置。

package.json 定义项目需要的各种模块及配置信息。

## 应用配置

versionCode应用版本号为整数，从1开始，每次更新上架请自增1。

minPlatformVersion，标识开发者的rpk包兼容支持的最小运行平台版本。

features，配置接口列表，使用接口时，需要现在manifest中声明接口。

router路由，用于定义页面的实际地址，跳转地址，不配置路由，不参与项目编译，一个目录下最多只能存在一个主页面文件。router.entry为首页，应用平台启动时默认打开的页面。

display，UI显示，用于定义与UI显示相关的配置，支持定义：页面公用的默认UI显示，页面私有的UI显示。

## 引入依赖

引入js，快应用中支持ES6的module标准，使用import引入js依赖，同时支持commonJS规范，使用require引入js依赖。

引入css，通过@import方式引入css。

引入自定义组件，框架引入自定义组件的方式是通过import标签完成的。

## 调试

日志等级可在manifest.json里配置。

远程调试指的是通过快应用调试器，hap-toolkit的远程调试命令，chrome devtools调试界面，来调试手机app端的页面。

远程调试依赖chrome浏览器，浏览器devtools会与手机上调试工具建立socket连接，实时获取修改应用运行数据，进行调试。

### WIFI调试

项目目录下执行npm run server；关闭开启USB调试；扫码安装；开始调试即可。

### USB调试

npm run server，开启USB调试，在线更新，开始调试即可。

