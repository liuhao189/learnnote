# 坚持仅合成器的属性和管理层计数

合成是将页面的已绘制部分放在一起以在屏幕上显示的过程。

有两个关键因素影响页面的性能：

1、需要管理的合成器层数量，
2、用于动画的属性。

坚持使用transform和opacity属性更改来实现动画。

使用will-change或translateZ提升移动的元素。

避免过度使用提升规则，各层都需要内存和管理开销。

## 使用transform和opacity属性更改来实现动画

性能最佳的像素管道版本会避免布局和绘制，只需合成更改。

为了实现此目标，需要坚持更改可以由合成器单独处理的属性。目前只有两个属性符合条件：transforms 和 opacity。

    如果担心可能无法限制动画只使用这些属性，请看看FLIP原则，这可能帮助您将动画从开销更大的属性重新映射为变形和透明度的更改。

## 提升您打算设置动画的元素

应当将您打算设置动画的元素，提升到自己的层。使用transform:translateZ(0)或will-change:transform。

## 管理层并避免层数激增

层往往有助于性能。创建的每一层都需要内存和管理。

在内存有限的设备上，对性能的影响可能远远超过创建层带来的任何好处。

    如无必要，请勿提升元素。

## 使用Chrome DevTools来了解应用中的层

要了解应用中的层，以及某元素有层的原因，您必须在Chrome DevTools的Timeline中启用绘制分析器。

