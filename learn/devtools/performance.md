## Performance

## 隐身模式

非隐身模式下，Chrome会运行你安装的插件。为了性能测量更加精确，请在隐身模式下使用。

## FPS Table

FPS上部的红色Bar表示FPS太低，影响用户体验。绿色的条越高，FPS越高。一般与requestAnimationFrame回调有关。

## 使用RAIL模型评估性能

RAIL（Response，Animation，Idle，Load）是一种以用户为中心的性能模型，每个网络应用均具有与其声明周期有关的四个不同方面，且这些方面以不同的方式影响着性能。

1、以用户为中心，最终目标不是让您的网站在任何特定设备上都能运行很快，而是使用户满意。

2、立即响应用户，在100ms以内确认用户输入。

3、设置动画或滚动时，在10ms以内生成帧。

4、最大程度增加主线程的空闲时间。

5、持续吸引用户，在1000ms以内呈现交互内容。

### 以用户为中心

0-16ms，用户可以感知每秒渲染60帧的平滑动画转场，每帧16ms，留给应用大约10ms的时间生成一帧。

0-100ms，用户觉得立即获得结果，时间再长，操作与反应之间的连接就会中断。

100-300ms，轻微可察觉的延迟。

300-1000ms，延迟感觉像是任务自然和持续发展的一部分，加载页面或更改视图代表一个任务。

1000+ms，用户的注意力将离开他们正在执行的任务。

10000+ms，用户感到失望，可能会放弃任务，之后他们或许不会再回来。

### 响应：100ms以内

使用此100ms窗口执行其它开销大的工作，但需要谨慎，以免妨碍用户，如果可能，请在后台执行工作。

超过500ms才能完成的操作，请始终提供反馈。

### 动画10ms内生成一帧

浏览器需要执行JS，Style，Layout，Paint，Composite。

每帧的预算约为16ms，浏览器需要花费时间将新帧绘制到屏幕上，只有10毫秒来执行代码。

### 空闲：最大程度增加空闲时间

利用空闲时间完成推迟的工作，推迟的工作应分成每个耗时约50ms的多个块。

### 加载：在1000ms内呈现内容

无响应在1秒内加载所有内容以产生完整加载的感觉，启用渐进式渲染和后台执行一些工作，将非必须的加载推迟到空闲时间段。




