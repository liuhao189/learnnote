# 可以工作的类

计算时代的早期，程序员基于语句思考编程问题；七八十年代，程序员开始基于函数去思考编程；21世纪，程序员以类为基础思考编程问题。

类是由一组数据和子程序构成的集合，这些数据和子程序共同拥有一组内聚的，明确定义的职责。成为高校程序员的一个关键就在于，当你开发程序任一部分的代码时，都能安全地忽略程序中尽可能多的其余部分。

## 类的基础：抽象数据类型ADTS

抽象数据类型ADT是指一些数据以及对这些数据所进行的操作的集合。这些操作既向程序的其余部分描述了这些数据是怎么样的，也允许程序的其余部分改变这些数据。

你可以把抽象数据类型想象成一个定义有一组操作的数学模型。


### 用到ADT的例子

调用方代码直接控制数据成员，无疑限制了currentFont的使用。

可以隐藏实现细节：把关于字体数据类型的信息隐藏起来，意味着如果数据类型发改变，你只需在一处修改而不会影响到整个程序。

改动不会影响到整个程序：如果想让字体更丰富，而且能支持更多操作，只需在程序的一处进行修改即可。

让接口能提供更多信息

更容易提高性能：如果你想提高程序性能，就可以重新编写出一些更好的子程序，而不用来回修改整个程序。

让程序的正确性更显而易见，程序更具自我说明性。

无需在程序内到处传递数据，可以像显示世界中的那样操作实体，而不用在底层实现上操作它。

把常见的底层数据类型创建为ADT并使用这些ADT，而不再使用底层数据类型。把向文件这样的常用对象当作ADT。

简单的事物也可当做ADT，不要让ADT依赖于其存储介质，尽量让类和访问器子程序的名字与存储数据的方式无关。

### 在非面向对象环境中用ADT处理多份数据实例

面向对象的编程语言能自动支持对同一ADT的多份实例的处理。向C语言这样的非面向对象的环境中工作，你就必须自己手工实现支持多个实例的技术。

每次使用ADT服务子程序都明确地指明实例，把fontId传给每个用来操作字体的子程序。

明确地向ADT服务子程序提供所要用带的数据。向程序的其余部分暴露了字体内部的数据，从而增加了调用方代码可能利用ADT内部实现细节的可能性。

使用隐含实例，使用多个实体更加顺畅，对于复杂的应用程序来说，这种系统范围内对状态的依赖性就意味着，你必须在用到字体操作的所有代码中跟踪当前的字体实例。

抽象数据类型构成了类这一概念的基础。类还涉及到继承和多态这两个额外的概念，因此，考虑类的一种方式，就是把它看做是抽象数据类型再加上继承和多态两个概念。



