# 把布局作为一种信仰

# 良好布局的目标

1、准确表现代码的逻辑结构，好的布局主要是为了展现代码的逻辑结构。

2、始终如一地表现代码的逻辑结构，好的风格能够适应大多数情况。

3、改善可读性，好的布局方案就该增强代码的可读性。

4、经得起修改，修改某行时不必连带修改其它行的代码。

# 如何将布局目标付诸实施

基于这些准则作为讨论布局的基础，这样喜欢某种布局而不是另一种的主管理由就能说得很清楚。采取不同的方法来衡量这些准则，结论或许会有些不同。

# 布局技术

## 空白

空白能够增强可读性，空白包括空格，制表符，换行，空行，是展现程序结构的主要手段。

分组，空白也是分组，也是确保相关的语句成组放在一起。

空行，将不相关的语句分隔开也是很有必要。各自划分成段落，分开各子程序，突出注释部分。

缩进，请用缩进形式显示程序的逻辑结构。已经证实缩进确能提高程序员的理解能力。两到四个空格最得当。

## 括号

括号应该用的比你觉得需要的更多，对包含两个以上的项的表达式，应该用括号去澄清之。

# 布局风格

多数布局问题都涉及到块结构，跟在控制语句后面的那些语句组。块结构被花括号或关键字括起来。

## 纯块模式

一个设计精良的语言的块结构非常清晰，适于一种自然而然的缩进风格。各个控制结构都有自己的结束符，代码分块是很自然的事。

## 模仿纯块结构

如果所用的语言不支持纯块结构，那么一个好的办法是，将关键字begin和end看成是所在控制结构的扩展。

控制结构以语句A开头，以语句D收尾，begin应该放在语句A的后面，end因为语句D。

这种对齐风格很好用，美观大方，可以一致地采用，可维护性也好。

## 使用begin-end对指定块边界

begin-end来泛指begin-end对，花括号，以及类似的语言结构。符合格式化的基本原理，唯一不足时无法精确适用于C++和Java中的switch/case语句。

## 行尾布局

行尾布局，一大组代码缩进至航中间或结尾的布局策略。行尾缩进用来将代码块与作为该快开始的关键字对齐，使子程序的其余参数以第一个参数对齐。

如果代码有所修改，行尾风格就要求相关的多条语句也调整缩进。从而产生维护性问题。

## 哪种风格最优

所有风格都不绝对可靠，都偶尔需要进行合理而明显地折中。