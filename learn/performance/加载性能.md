# 测量性能

优化的第一步是测量当前的性能，并分析出我们可以在哪些方面改善性能。

## Lighthouse

Lighthouse会审查加载性能，可访问性，PWA等方面。

Lighthouse可以在命令行，Chrome扩展，NodeModule中使用。

Lighthouse在Chrome Devtools中的Audit中可以直接访问。

## 文本内容

文本内容包括，HTML、CSS和JS代码。

### Seperate Development from Deployment

部署代码可以体积小，不易读。发布之前使用压缩工具。

### 压缩代码

去掉多余的字符，空格等，可以减少不少体积。

### 压缩传输内容

Gzip比较出名。Gzip比较擅长于压缩文本内容，文本内容压缩率最高可达70%。不擅长于压缩非文本内容，非文本内容几乎无显著的体积减少。

### 减少类库使用

如果你只使用了类库中的部分功能，你可以通过书写用到的部分方法或CSS规则来降低下载时间。

## 图片内容

### 删除未使用的图片

是否真的需要图片在网页加载时显示。

### 选择合适的图片类型

png使用于剪贴画，绘图，需要透明度的场景。

JPG用于照片。

GIF用于动态图片。

WEBP用于新式浏览器。

### 删除metadata

metadata存在于大多数图片中，包括相机参数，时间戳，相机拍照设置，文件类型，经纬度等信息。

### 缩略图

根据渲染的大小展示缩略图，只在发生特定事件时，才请求大图。

### 降低图片质量

降低图片质量可以在无肉眼可见的差距下，大幅降低文件体积。

### 压缩图片

PNG和JPG图片可以被进一步压缩，免费网站https://tinypng.com。




