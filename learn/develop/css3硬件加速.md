Webkit技术内幕书中说Webkit硬件加速的方式，会把需要渲染的元素放到特定的Composited Layer中。

选择show layer borders以后，就能看到有动画3d变换的元素会被一个黄色的边框圈起来，表示放到了一个新的复合层中渲染。

蓝色的细线是浏览器渲染时候的瓦片，浏览器绘制页面的时候只会绘制可视区域一定范围内的瓦片，以节省性能开销。黄色的边框框起来，代表这个元素被放到特殊的复合层中渲染，根主文档不再一个层中。

    如果有一个元素，它的兄弟元素在复合层中渲染，而这个兄弟元素的z-index比较小，那么这个元素也会被放到复合层中。

最可怕的是浏览器有可能给复合层之后的所有相对或绝对定位的元素都创建一个复合层来渲染。

人为的提升动画元素的z-index，让浏览器知道这个元素的层排序。

GPU硬件加速也会有坑，当我们希望使用类似transform:tranalate3d这样的方式开启GPU硬件加速时，一定要注意元素层级的关系，尽量保持让需要进行CSS动画的元素的z-index保持在页面最上方。

Graphics Layer不是越多越好，每一帧的渲染内核都会去遍历计算当前所有的Graphics Layer，并计算他们下一帧的重绘区域，所以过量的Graphics Layer计算也会给渲染造成性能影响。

