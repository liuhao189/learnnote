绘制是填充像素的过程，像素最终合成到用户的屏幕上。往往是管道中运行时间最长的任务，应尽可能避免此任务。

1、除Transform或opacity属性之外，更改任何属性始终都会触发绘制。

2、绘制通常是像素管道中开销最大的部分，应尽可能避免绘制。

3、通过层的提升和动画的编排来减少绘制区域。

4、使用Chrome DevTools绘制分析器来评估绘制的复杂性和开销，应尽可能降低复杂性并减少开销。

## 触发布局与绘制

如果您触发布局，则总是会触发绘制，因为更改任何元素的几何属性意味着其像素需要修正。

如果更改非集合属性，背景，文本或阴影，也可能触发绘制，这些情况下，不需要布局。

## 快速确定绘制瓶颈

可以使用Chrome DevTools来快速确定正则绘制的区域。转到rending标签，然后选中Show paint rectangles。

chrome将屏幕闪烁绿色，如果看到整个屏幕闪烁绿色，或看到您认为不应绘制的屏幕区域，则应当进一步研究。

## 提升移动或淡出的元素

绘制并非总是绘制到内存中的单个图像，事实上，在必要时浏览器可以绘制到多个图像或合成器层。

此方法的优点是：定期重绘的或通过边形在屏幕上移动元素，可以在不影响其它元素的情况下进行处理。

创建新层的最佳方式是使用will-change CSS属性，此方法在Chrome，Opera和Firefox上有效，并且通过transform的值将创建一个新的合成器层。

对于不支持will-change但收益于层创建的浏览器，Safari和Mobile Safati，需要使用3D变形来强制创建一个新层。

不要创建太多层，因为每层都需要内存和管理开销。


## 减少绘制区域

浏览器将两个需要绘制的区域联合在一起，而这可能导致整个屏幕重绘。

减少绘制区域往往是编排您的动画和变换，使其不过多重叠，或设法避免对页面的某些部分设置动画。

## 降低绘制的复杂性

一些绘制比其它绘制的开销更大，是否可能使用一组开销更小的样式或替代方式来实现最终结果。

尽可能的避免绘制的发生，特别是在动画效果中，因为每帧10毫秒的时间预算一般来说是不足以完成绘制工作的。

